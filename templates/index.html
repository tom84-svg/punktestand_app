<!DOCTYPE html>
<html>
<head>
    <title>Punkte-Spiel</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <style>
        body { background-color: #f8f9fa; font-family: 'Segoe UI', sans-serif; text-align: center; padding-top: 30px; }
        .card-player { max-width: 400px; margin: 20px auto; padding: 20px; border-radius: 15px; box-shadow: 0 4px 10px rgba(0,0,0,0.15); background-color: #ffffff; }
        .round-info { font-size: 1.2rem; margin-bottom: 20px; font-weight: 500; }
        .score { font-size: 2rem; margin: 15px 0; font-weight: bold; }
        .btn-custom { min-width: 150px; margin: 5px; }
        .beer-count { font-size: 1.3rem; font-weight: bold; color: #c82333; margin: 15px 0; }
        input[name="player_name"], input[type="number"] { max-width: 150px; margin-bottom: 10px; text-align: center; }
    </style>
</head>
<body>
    <h1>üçª Punkte-Spiel</h1>

    {% if game_started %}
    <div class="round-info">Runde {{ current_round }} ‚Äì Karten: {{ card_count }}</div>
    {% endif %}

    {% for player in players %}
    <div class="card-player">
        <h3>{{ player }}</h3>
        <div class="score">Punkte: {{ scores[player] }}</div>
        <form method="post">
            <input type="number" name="{{ player }}" placeholder="Neue Punkte">
            <div>
                <button class="btn btn-primary btn-custom" type="submit" name="update_scores" 
                    {{ 'disabled' if final_result else '' }}>
                    Punkte aktualisieren
                </button>
            </div>
        </form>
    </div>
    {% endfor %}

    <div class="beer-count">üç∫ Bier-Runden: {{ beer_count }}</div>

    <form method="post">
        <button class="btn btn-success btn-custom" type="submit" name="new_round" {{ 'disabled' if final_result else '' }}>
            ‚úÖ Runde abschlie√üen
        </button>
        <button class="btn btn-warning btn-custom" type="submit" name="beer_count_btn">
            üç∫ Neues Bier
        </button>
        <button class="btn btn-danger btn-custom" type="submit" name="reset_beer">
            ‚ôªÔ∏è Bier zur√ºcksetzen
        </button>
        <button class="btn btn-secondary btn-custom" type="submit" name="reset_game">
            üßπ Spiel zur√ºcksetzen
        </button>
    </form>

    {% if final_result %}
    <h2 class="mt-4">üéâ Gesamtergebnis</h2>
    <ul class="list-group" style="max-width: 400px; margin: 0 auto;">
        {% for player, score in scores.items() %}
        <li class="list-group-item d-flex justify-content-between align-items-center">
            {{ player }}
            <span class="badge bg-primary rounded-pill">{{ score }}</span>
        </li>
        {% endfor %}
    </ul>
    {% endif %}

    {% if not game_started %}
    <h3 class="mt-4">Spieler hinzuf√ºgen:</h3>
    <form method="post">
        <input type="text" name="player_name" placeholder="Name">
        <button class="btn btn-secondary btn-custom" type="submit" name="add_player">Hinzuf√ºgen</button>
    </form>
    {% endif %}
</body>
</html>
